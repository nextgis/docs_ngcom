.. sectionauthor:: Юлия Григоренко <grigorenko.j@gmail.com>

.. _ngcom_lookup_table_for_layer:

Как подключить Справочник к векторному слою
================================================

К полю векторного слоя можно подключить справочник, это позволит при редактировании значений атрибутов выбирать значение из списка. 

1. Создайте справочник с нужным набором пар ключ-значение (`подробнее о создании справочника <https://docs.nextgis.ru/docs_ngweb/source/layers.html#ngw-create-lookup-table>`_).


.. figure:: _static/create_lookup_table_ru.png
   :name: create_lookup_table
   :align: center
   :width: 20cm

   Создание справочника


2. Перейдите в редактирование векторного слоя. Во вкладке **Атрибуты** выберите нужную строку и нажмите на стрелку вниз в колонке *Справочник*.

.. figure:: _static/lookup_table_field_ru.png
   :name: lookup_table_field_pic
   :align: center
   :width: 20cm

   Поле справочника

3. В появившемся окне выберите созданный справочник. 

.. figure:: _static/lookup_table_select_ru.png
   :name: lookup_table_select_pic
   :align: center
   :width: 16cm

   Выбор справочника

Сохраните изменения.

Для того, чтобы **удалить** подключенный справочник, в поле, где он выбран, нажмите на кнопку с крестиком.

.. note:: 
	Пошаговая инструкция также представлена в `видео <https://youtu.be/4geb-lbE81g?si=4Dt5oOYCKomN7o0Y>`_.

.. _ngcom_lookup_table_for_layer_ngw:

Как пользоваться справочником в облаке при редактировании слоя 
--------------------------------------------------------------

Подключенный справочник можно использовать при редактировании объектов векторного слоя в облаке. Для того, чтобы выбрать значение атрибута из списка, откройте Таблицу объектов в отдельном окне или на веб-карте.

Выделите нужную строку и нажмите **Редактировать**.

.. figure:: _static/attr_table_edit_ru.png
   :name: attr_table_edit_pic
   :align: center
   :width: 18cm

   Выбор объекта для редактирования

В открывшемся окне редактирования значения справочника для поля, к которому он подключен, будут доступны в виде выпадающего меню. Выберите нужное значение и нажмите **Сохранить**.

.. figure:: _static/attr_table_lookup_dropdown_ru.png
   :name: attr_table_lookup_dropdown_pic
   :align: center
   :width: 16cm

   Выбор значения из справочника

.. _ngcom_lookup_table_for_layer_qgis:

Как пользоваться справочником в QGIS
------------------------------------

Справочники подхватываются NextGIS Connect и доступны при редактировании данных в QGIS.

1. Подключитесь к нужной веб ГИС в NextGIS Connect. 

2. Создайте сервис WFS для нужного слоя.

3. Откройте таблицу атрибутов слоя. Активируйте режим редактирования.

4. При нажатии на поле атрибута, к которому прикреплен справочник, справа будет появляться стрелочка, вызывающая выпадающее меню со значениями справочника.

.. figure:: _static/attr_table_qgis_lookup_ru.png
   :name: attr_table_qgis_lookup_ru
   :align: center
   :width: 24cm

   Выбор значения из справочника в QGIS
